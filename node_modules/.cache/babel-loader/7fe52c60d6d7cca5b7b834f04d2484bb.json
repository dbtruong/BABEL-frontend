{"ast":null,"code":"var _jsxFileName = \"/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/After_game/Summary/SummaryPage.jsx\";\nimport React, { Component } from 'react';\nimport '../../../Assets/Css/Summary.css';\nimport { Link } from 'react-router-dom';\nimport SummaryAPI from '../../../API/SummaryAPI.js';\n\nclass SummaryPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentCategory: 0,\n      help: 0,\n      love: 0,\n      happy: 0,\n      SessionDate: \"\",\n      SessionDates: [],\n      sessions: [],\n      Session: \"\",\n      Summary: [],\n      bool: 0,\n      bool2: 0\n    };\n    this.api = new SummaryAPI(); //this.state.Summary = this.api.loadSummary(); \n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClick2 = this.handleClick2.bind(this);\n    this.handleClick3 = this.handleClick3.bind(this);\n    this.handleClick4 = this.handleClick4.bind(this);\n    this.handleClick5 = this.handleClick5.bind(this);\n    this.summary = this.summary.bind(this); //this.resume = this.resume.bind(this); \n  }\n\n  componentDidMount() {\n    // this.createSelect(); \n    // this.resume(); \n    this.summary();\n  }\n\n  summary() {\n    let summary = this.api.getChildSummary();\n    let sum = [];\n    let path = \"Images\";\n    let gameSession = localStorage.getItem(\"GameSessionChosen\");\n\n    for (let i = 0; i < summary.length; i++) {\n      localStorage.getItem(\"GameSessionChosen\");\n\n      if (summary[i].date === gameSession || this.state.bool2 === 0) {\n        for (let j = 0; j < summary[i].images.length; j++) {\n          if (this.state.bool === 0) {\n            let like = this.getLove(summary[i].images[j].like);\n            let help = this.getHelp(summary[i].images[j].help);\n            let happy = this.getHappy(summary[i].images[j].happy);\n            sum.push(React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              class: \"cel5\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              class: \"img_render\",\n              src: path + summary[i].images[j].name + \".jpg\",\n              alt: summary[i].images[j].name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            })), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, like)), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, help)), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 56\n              },\n              __self: this\n            }, happy))));\n          } else if (summary[i].images[j].category === this.state.currentCategory) {\n            let like = this.getLove(summary[i].images[j].like);\n            let help = this.getHelp(summary[i].images[j].help);\n            let happy = this.getHappy(summary[i].images[j].happy);\n            sum.push(React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              class: \"cel5\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              class: \"img_render\",\n              src: path + summary[i].images[j].name + \".jpg\",\n              alt: summary[i].images[j].name,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            })), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, like)), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, help)), React.createElement(\"td\", {\n              class: \"cel4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, React.createElement(\"h1\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, happy))));\n          }\n        }\n      }\n    }\n\n    this.setState({\n      Summary: sum\n    }); //return sum; \n  }\n  /*async createSelect(){\n      \n     let childId = localStorage.getItem(\"childId\");\n     this.state.sessions = await this.api.loadSessions(childId);\n     let children = []\n      this.state.sessions.map((ses) => (\n          children.push(<option key={ses.id}> {ses.start_date}</option>)\n          )) ;\n      \n     if(this.state.sessions.length <1){\n       this.setState({\n          SessionDates: children\n        });\n     }else {\n          this.setState({Session : <option key={this.state.sessions.id} value={this.state.sessions.id}></option>});\n      }\n  }*/\n\n  /* componentDidUpdate(){\n       this.summary(); \n   }*/\n\n\n  handleChange(e) {\n    this.setState({\n      session: e.target.value\n    });\n    console.log(e.target.value);\n    localStorage.setItem(\"GameSessionChosen\", e.target.value);\n    this.state.bool2 = 1;\n    this.summary();\n  }\n\n  async handleClick5(e) {\n    let gameSessionId = localStorage.getItem(\"GameSessionChosen\");\n    let gameSession = await this.api.getGameSession(gameSessionId);\n    console.log(gameSession);\n    let elem = document.getElementById(\"comments\");\n    this.api.updateChildSession(gameSession.id, gameSession.start_date, elem.target.value, gameSession.prof_comment, gameSession.step_one, gameSession.step_two, gameSession.step_three, gameSession.finished_state, gameSession.version, gameSession.child_id, gameSession.user_id, gameSession.mandate_id);\n  }\n\n  handleClick2(e) {\n    let ChildState = e.target.name;\n    let elem;\n\n    if (ChildState === \"Love\") {\n      document.getElementsByName(\"Love\")[0].style.borderColor = 'red';\n      this.state.love = 1;\n      elem = \"NotLove\";\n    }\n\n    if (ChildState === \"NotLove\") {\n      document.getElementsByName(\"NotLove\")[0].style.borderColor = 'red';\n      this.state.love = 0;\n      elem = \"Love\";\n    }\n\n    document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n  }\n\n  handleClick3(e) {\n    let ChildState = e.target.name;\n    let elem;\n\n    if (ChildState === \"Help\") {\n      document.getElementsByName(\"Help\")[0].style.borderColor = 'red';\n      this.state.help = 1;\n      elem = \"NotHelp\";\n    }\n\n    if (ChildState === \"NotHelp\") {\n      document.getElementsByName(\"NotHelp\")[0].style.borderColor = 'red';\n      this.state.help = 0;\n      elem = \"Help\";\n    }\n\n    document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n  }\n\n  handleClick4(e) {\n    let ChildState = e.target.name;\n    let elem;\n\n    if (ChildState === \"Happy\") {\n      document.getElementsByName(\"Happy\")[0].style.borderColor = 'red';\n      this.state.happy = 1;\n      elem = \"NotHappy\";\n    }\n\n    if (ChildState === \"NotHappy\") {\n      document.getElementsByName(\"NotHappy\")[0].style.borderColor = 'red';\n      this.state.happy = 0;\n      elem = \"Happy\";\n    }\n\n    document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n  }\n\n  handleClick(e) {\n    // 1 Déplacement\n    // 2 Habitation\n    // 3 Loisirs\n    // 4 Nutrition\n    // 5 Soins\n    // 6 Responsabilité\n    // 7 Relations/Communication\n    let categoryChoice = e.target.name;\n    this.state.bool = 1;\n    let tab;\n\n    if (categoryChoice === \"1\") {\n      document.getElementsByName(\"1\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"deplacement\";\n      tab = [\"2\", \"3\", \"4\", \"5\", \"6\", \"8\"];\n    }\n\n    if (categoryChoice === \"2\") {\n      document.getElementsByName(\"2\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"habitation\";\n      tab = [\"1\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\"];\n    }\n\n    if (categoryChoice === \"3\") {\n      document.getElementsByName(\"3\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"loisirs\";\n      tab = [\"1\", \"2\", \"4\", \"5\", \"6\", \"7\", \"8\"];\n    }\n\n    if (categoryChoice === \"4\") {\n      document.getElementsByName(\"4\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"nutrition\";\n      tab = [\"1\", \"2\", \"3\", \"5\", \"6\", \"7\", \"8\"];\n    }\n\n    if (categoryChoice === \"5\") {\n      document.getElementsByName(\"5\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"soins\";\n      tab = [\"1\", \"2\", \"3\", \"4\", \"6\", \"7\", \"8\"];\n    }\n\n    if (categoryChoice === \"6\") {\n      document.getElementsByName(\"6\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"responsabilite\";\n      tab = [\"1\", \"2\", \"3\", \"4\", \"5\", \"7\", \"8\"];\n    }\n\n    if (categoryChoice === \"7\") {\n      document.getElementsByName(\"7\")[0].style.borderColor = 'red';\n      this.state.currentCategory = \"communication\";\n      tab = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"8\"];\n    }\n\n    if (categoryChoice === \"8\") {\n      document.getElementsByName(\"8\")[0].style.borderColor = 'red';\n      this.state.bool = 0;\n      tab = [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\"];\n    }\n\n    tab.forEach(element => document.getElementsByName(element)[0].style.borderColor = '#7dbdfd');\n    this.summary();\n  }\n\n  getLove(love) {\n    let f = \"X\";\n    let t = \"V\";\n\n    if (love) {\n      return t;\n    } else {\n      return f;\n    }\n  }\n\n  getHelp(help) {\n    let f = \"X\";\n    let t = \"V\";\n\n    if (help) {\n      return t;\n    } else {\n      return f;\n    }\n  }\n\n  getHappy(happy) {\n    let f = \"X\";\n    let t = \"V\";\n\n    if (happy) {\n      return t;\n    } else {\n      return f;\n    }\n  }\n  /*async resume(){\n       let habits = this.state.Summary; \n       let summary = []; \n       for(let i =0; i < habits.length ; i++){\n            let picture = await this.api.loadPicture(habits[i].picture_id); \n           summary.push(<td><img src={picture.path} alt={picture.id}/></td>)\n           summary.push(<td>{this.gethabit(habits.do_like)}</td>)\n           summary.push(<td>{this.getHabit(habits.is_autonomous)}</td>) \n           summary.push(<td>{this.getHabit(habits.is_happy)}</td>)\n           \n       }\n       return summary; \n       \n   }*/\n\n\n  render() {\n    return React.createElement(\"nav\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"R\\xE9sum\\xE9\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Choisissez la date de session\"), React.createElement(\"select\", {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"13 d\\xE9cembre 2019\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"13 d\\xE9cembre 2019\"), React.createElement(\"option\", {\n      value: \"15 novembre 2019\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"15 novembre 2019\"), React.createElement(\"option\", {\n      value: \"12 septembre 2019\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"12 septembre 2019\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"elem_center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"cel3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"Choisissez une cat\\xE9gorie \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table_order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"1\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"D\\xE9placement\")), React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"2\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Habitation\"))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"3\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"Loisirs\")), React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"4\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Nutrition\"))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"5\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Soins\")), React.createElement(\"td\", {\n      class: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"6\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Responsabilit\\xE9\"))))), React.createElement(\"div\", {\n      class: \"div_order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"7\",\n      class: \"button_settings4\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Communication\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      name: \"8\",\n      class: \"button_summary6\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Pas de categorie\")))))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"tab_dimension\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"cel4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Habitudes\")), React.createElement(\"td\", {\n      class: \"cel4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"Images/like.png\",\n      alt: \"logo aime\",\n      class: \"logo_summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      class: \"cel4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"Images/help.png\",\n      alt: \"logo aide\",\n      class: \"logo_summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      class: \"cel4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"Images/happy.png\",\n      alt: \"logo content\",\n      class: \"logo_summary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    })))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, this.state.Summary))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, \"Commentaires\"), React.createElement(\"textarea\", {\n      id: \"comments\",\n      rows: \"5\",\n      cols: \"80\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      class: \"button_settings5\",\n      onclick: this.handleClick5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"Commenter\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default SummaryPage;","map":{"version":3,"sources":["/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/After_game/Summary/SummaryPage.jsx"],"names":["React","Component","Link","SummaryAPI","SummaryPage","constructor","state","currentCategory","help","love","happy","SessionDate","SessionDates","sessions","Session","Summary","bool","bool2","api","handleChange","bind","handleClick","handleClick2","handleClick3","handleClick4","handleClick5","summary","componentDidMount","getChildSummary","sum","path","gameSession","localStorage","getItem","i","length","date","j","images","like","getLove","getHelp","getHappy","push","name","category","setState","e","session","target","value","console","log","setItem","gameSessionId","getGameSession","elem","document","getElementById","updateChildSession","id","start_date","prof_comment","step_one","step_two","step_three","finished_state","version","child_id","user_id","mandate_id","ChildState","getElementsByName","style","borderColor","categoryChoice","tab","forEach","element","f","t","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../../../Assets/Css/Summary.css';\nimport { Link } from 'react-router-dom';\nimport SummaryAPI from '../../../API/SummaryAPI.js'\n\nclass SummaryPage extends Component {\n\n    constructor(){\n        super();\n        this.state = {\n            currentCategory : 0,\n            help : 0,\n            love : 0,\n            happy : 0,\n            SessionDate : \"\",\n            SessionDates : [],\n            sessions : [],\n            Session : \"\", \n            Summary : [],\n            bool : 0,\n            bool2 : 0\n\n        }\n        this.api = new SummaryAPI();\n        //this.state.Summary = this.api.loadSummary(); \n        \n        this.handleChange = this.handleChange.bind(this);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleClick2 = this.handleClick2.bind(this); \n        this.handleClick3 = this.handleClick3.bind(this);\n        this.handleClick4 = this.handleClick4.bind(this);\n        this.handleClick5 = this.handleClick5.bind(this); \n        this.summary = this.summary.bind(this); \n        //this.resume = this.resume.bind(this); \n        \n    }\n    componentDidMount(){\n       // this.createSelect(); \n       // this.resume(); \n       this.summary(); \n    }\n    summary(){\n    let summary = this.api.getChildSummary();\n    let sum = []; \n    let path = \"Images\"; \n    let gameSession = localStorage.getItem(\"GameSessionChosen\"); \n    for(let i = 0; i <summary.length; i++){\n        localStorage.getItem(\"GameSessionChosen\"); \n        if(summary[i].date===gameSession || this.state.bool2 === 0){\n            \n        for(let j =0; j < summary[i].images.length; j++){\n            if( this.state.bool===0 ){\n                let like = this.getLove(summary[i].images[j].like); \n                let help = this.getHelp(summary[i].images[j].help); \n                let happy = this.getHappy(summary[i].images[j].happy); \n                sum.push(<tr><td class=\"cel5\"><img class=\"img_render\" src={path+summary[i].images[j].name+\".jpg\"} alt={summary[i].images[j].name}/></td><td class=\"cel4\"><h1>{like}</h1></td><td class=\"cel4\"><h1>{help}</h1></td><td class=\"cel4\"><h1>{happy}</h1></td></tr>);\n            }else if (summary[i].images[j].category===this.state.currentCategory){\n                let like = this.getLove(summary[i].images[j].like); \n                let help = this.getHelp(summary[i].images[j].help); \n                let happy = this.getHappy(summary[i].images[j].happy); \n                sum.push(<tr><td class=\"cel5\"><img class=\"img_render\" src={path+summary[i].images[j].name+\".jpg\"} alt={summary[i].images[j].name}/></td><td class=\"cel4\"><h1>{like}</h1></td><td class=\"cel4\"><h1>{help}</h1></td><td class=\"cel4\"><h1>{happy}</h1></td></tr>);\n            }\n        }\n    }\n    }\n    \n    this.setState({Summary : sum}); \n    //return sum; \n    }\n\n    /*async createSelect(){\n        \n       let childId = localStorage.getItem(\"childId\");\n       this.state.sessions = await this.api.loadSessions(childId);\n       let children = []\n        this.state.sessions.map((ses) => (\n            children.push(<option key={ses.id}> {ses.start_date}</option>)\n            )) ;\n        \n       if(this.state.sessions.length <1){\n         this.setState({\n            SessionDates: children\n          });\n       }else {\n            this.setState({Session : <option key={this.state.sessions.id} value={this.state.sessions.id}></option>});\n        }\n    }*/\n   /* componentDidUpdate(){\n        this.summary(); \n    }*/\n\n    handleChange(e){\n        this.setState({session: e.target.value});\n        console.log(e.target.value); \n        localStorage.setItem(\"GameSessionChosen\",e.target.value); \n        this.state.bool2 = 1; \n        this.summary(); \n    }\n   async handleClick5(e){\n       let gameSessionId = localStorage.getItem(\"GameSessionChosen\"); \n       let gameSession = await this.api.getGameSession(gameSessionId);\n        console.log(gameSession )\n       let elem = document.getElementById(\"comments\");\n       this.api.updateChildSession(gameSession.id,gameSession.start_date,elem.target.value, gameSession.prof_comment, gameSession.step_one, gameSession.step_two, gameSession.step_three, gameSession.finished_state, gameSession.version, gameSession.child_id, gameSession.user_id, gameSession.mandate_id);\n    }\n    \n    \n\n    handleClick2(e){\n        let ChildState = e.target.name\n        let elem; \n        if(ChildState===\"Love\"){\n            document.getElementsByName(\"Love\")[0].style.borderColor = 'red';\n            this.state.love = 1; \n            elem =\"NotLove\"; \n        }\n        if(ChildState===\"NotLove\"){  \n            document.getElementsByName(\"NotLove\")[0].style.borderColor = 'red';          \n            this.state.love = 0; \n            elem = \"Love\"; \n        }\n        document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n    }\n    handleClick3(e){\n        let ChildState = e.target.name\n        let elem;\n        if(ChildState===\"Help\"){\n            document.getElementsByName(\"Help\")[0].style.borderColor = 'red';\n            this.state.help = 1; \n            elem = \"NotHelp\";\n        }\n        if(ChildState===\"NotHelp\"){\n            document.getElementsByName(\"NotHelp\")[0].style.borderColor = 'red';\n            this.state.help = 0; \n            elem = \"Help\";\n        }\n        document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n    }\n    handleClick4(e){\n        let ChildState = e.target.name\n        let elem; \n        if(ChildState===\"Happy\"){\n            document.getElementsByName(\"Happy\")[0].style.borderColor = 'red';\n            this.state.happy = 1; \n            elem = \"NotHappy\"; \n        }\n        if(ChildState===\"NotHappy\"){\n            document.getElementsByName(\"NotHappy\")[0].style.borderColor = 'red';\n            this.state.happy = 0; \n            elem = \"Happy\"; \n        }\n        document.getElementsByName(elem)[0].style.borderColor = '#7dbdfd';\n\n    }\n    \n    handleClick(e){\n        // 1 Déplacement\n        // 2 Habitation\n        // 3 Loisirs\n        // 4 Nutrition\n        // 5 Soins\n        // 6 Responsabilité\n        // 7 Relations/Communication\n         let categoryChoice = e.target.name\n         this.state.bool = 1; \n         let tab; \n         if(categoryChoice===\"1\"){\n            document.getElementsByName(\"1\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"deplacement\"; \n            tab = [\"2\",\"3\",\"4\",\"5\",\"6\",\"8\"]; \n         }\n         if(categoryChoice===\"2\"){\n            document.getElementsByName(\"2\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"habitation\";\n            tab = [\"1\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\"]; \n         }\n         if(categoryChoice===\"3\"){\n            document.getElementsByName(\"3\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"loisirs\";\n            tab = [\"1\",\"2\",\"4\",\"5\",\"6\",\"7\",\"8\"]; \n         }\n         if(categoryChoice===\"4\"){\n            document.getElementsByName(\"4\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"nutrition\";\n            tab = [\"1\",\"2\",\"3\",\"5\",\"6\",\"7\",\"8\"]; \n         }\n         if(categoryChoice===\"5\"){\n            document.getElementsByName(\"5\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"soins\";\n            tab = [\"1\",\"2\",\"3\",\"4\",\"6\",\"7\",\"8\"]; \n         }\n         if(categoryChoice===\"6\"){\n            document.getElementsByName(\"6\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"responsabilite\";\n            tab = [\"1\",\"2\",\"3\",\"4\",\"5\",\"7\",\"8\"]; \n         }\n         if(categoryChoice===\"7\"){\n            document.getElementsByName(\"7\")[0].style.borderColor = 'red';\n            this.state.currentCategory= \"communication\";\n            tab = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"8\"]; \n         }\n         if(categoryChoice===\"8\"){\n            document.getElementsByName(\"8\")[0].style.borderColor = 'red';\n            this.state.bool=0;\n            tab = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\"]; \n         }\n         tab.forEach(element => document.getElementsByName(element)[0].style.borderColor = '#7dbdfd');\n         this.summary(); \n    }\n    \n    getLove(love){\n        let f= \"X\"; \n        let t= \"V\"; \n        \n        if(love){\n            return t; \n        }else{\n            return f; \n        }\n    }\n    getHelp(help){\n        let f= \"X\"; \n        let t= \"V\"; \n        \n        if(help){\n            return t; \n        }else{\n            return f; \n        }\n    }\n        \n    getHappy(happy){\n        let f= \"X\"; \n        let t= \"V\"; \n\n        if(happy){\n            return t;\n        }else{\n            return f; \n        }\n    }\n    \n\n   /*async resume(){\n        let habits = this.state.Summary; \n        let summary = []; \n        for(let i =0; i < habits.length ; i++){\n             let picture = await this.api.loadPicture(habits[i].picture_id); \n            summary.push(<td><img src={picture.path} alt={picture.id}/></td>)\n            summary.push(<td>{this.gethabit(habits.do_like)}</td>)\n            summary.push(<td>{this.getHabit(habits.is_autonomous)}</td>) \n            summary.push(<td>{this.getHabit(habits.is_happy)}</td>)\n            \n        }\n        return summary; \n        \n    }*/\n    \n        \n    \n\n    render() {\n    return (\n        <nav class=\"container\">\n            <h4>Résumé</h4>\n            <div>\n                <h5>Choisissez la date de session</h5>\n                <select onChange={this.handleChange}> \n                 {/*{this.state.sessions}\n                 {this.state.Session}*/}\n                 <option value = \"13 décembre 2019\">13 décembre 2019</option>\n                 <option value = \"15 novembre 2019\">15 novembre 2019</option>\n                 <option value = \"12 septembre 2019\">12 septembre 2019</option>\n                </select>\n        \n            </div>\n            <div>\n             <table class=\"elem_center\">\n                <tbody>\n                    <tr>\n                        <td class=\"cel3\">\n                        <h5>Choisissez une catégorie </h5>\n                        <div>\n                            <table class=\"table_order\">\n                            <thead>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"1\" class=\"button_settings4\" onClick={this.handleClick}>Déplacement</button></td>\n                                    <td class=\"cel\"><button name=\"2\" class=\"button_settings4\" onClick={this.handleClick}>Habitation</button></td>\n                                </tr>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"3\" class=\"button_settings4\" onClick={this.handleClick}>Loisirs</button></td>\n                                    <td class=\"cel\"><button name=\"4\" class=\"button_settings4\" onClick={this.handleClick}>Nutrition</button></td>\n                                </tr>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"5\" class=\"button_settings4\" onClick={this.handleClick}>Soins</button></td>\n                                    <td class=\"cel\"><button name=\"6\" class=\"button_settings4\" onClick={this.handleClick}>Responsabilité</button></td>\n                                </tr>\n                            </thead>\n                            </table>\n                            <div class=\"div_order\">\n                            <button name=\"7\" class=\"button_settings4\" onClick={this.handleClick}>Communication</button>\n                            <br/><br/>\n                            <button name=\"8\" class=\"button_summary6\" onClick={this.handleClick}>Pas de categorie</button>\n                            </div>\n                        </div>\n                        </td>\n                        {/*\n                        <td>\n                        <h5>Choisissez pour trier</h5>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"Love\"class=\"button_settings4\" onClick={this.handleClick2}>Aime</button></td>\n                                    <td class=\"cel\"><button name=\"NotLove\" class=\"button_settings4\" onClick={this.handleClick2}>Aime pas</button></td>\n                                </tr>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"Help\" class=\"button_settings4\" onClick={this.handleClick3}>Besoin d'aide</button></td>\n                                    <td class=\"cel\"><button name=\"NotHelp\" class=\"button_settings4\" onClick={this.handleClick3}>Pas Besoin d'aide</button></td>\n                                </tr>\n                                <tr>\n                                    <td class=\"cel\"><button name=\"Happy\" class=\"button_settings4\" onClick={this.handleClick4}>Content</button></td>\n                                    <td class=\"cel\"><button name=\"NotHappy\" class=\"button_settings4\" onClick={this.handleClick4}>Content pas</button></td>\n                                </tr>\n                            </thead>\n                        </table>\n                        </td>*/}\n                    </tr>\n                  </tbody>\n                </table>\n            </div>\n            <br/>\n            <div>\n                <table class=\"tab_dimension\">\n                    <thead>\n                        <tr>\n                            <td class=\"cel4\"><h4>Habitudes</h4></td>\n                            <td class=\"cel4\"><img src=\"Images/like.png\" alt=\"logo aime\" class=\"logo_summary\"/></td>\n                            <td class=\"cel4\"><img src=\"Images/help.png\" alt=\"logo aide\" class=\"logo_summary\"/></td>\n                            <td class=\"cel4\"><img src=\"Images/happy.png\" alt=\"logo content\" class=\"logo_summary\"/></td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                          {this.state.Summary}\n                            {/*this.summary()*/}\n                        \n                    </tbody>\n                </table>\n            </div>\n            <br/>\n            <div>\n                <h4>Commentaires</h4>\n                <textarea id=\"comments\" rows=\"5\" cols=\"80\">\n\n                </textarea>\n                <br/>\n                <button class=\"button_settings5\" onclick={this.handleClick5}>Commenter</button>\n            </div>\n            <br/>\n        </nav>\n        \n    );\n  }\n}\n\nexport default SummaryPage;"]},"metadata":{},"sourceType":"module"}