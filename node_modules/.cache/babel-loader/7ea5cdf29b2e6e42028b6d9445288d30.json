{"ast":null,"code":"var _jsxFileName = \"/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/Before_game/Settings/SettingsPage.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport SettingsAPI from '../../../API/SettingsAPI.js';\nimport '../../../Assets/Css/SettingsPage.css';\n\nclass SettingsPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentCategory: \"\",\n      stepOrder1: 0,\n      stepOrder2: 0,\n      stepOrder3: 0,\n      categoryPriority: [],\n      divCategories: [],\n      categories: [],\n      cntPrior: 0,\n      cnt1: 0,\n      cnt1Bis: 0,\n      cnt2: 0,\n      cnt2Bis: 0,\n      cnt3: 0,\n      cnt3Bis: 0,\n      cnt4: 0,\n      cnt4Bis: 0,\n      cnt5: 0,\n      cnt5Bis: 0,\n      cnt6: 0,\n      cnt6Bis: 0,\n      cnt7: 0,\n      cnt7Bis: 0\n    };\n    this.api = new SettingsAPI();\n    this.handleClick = this.handleClick.bind(this);\n    this.handleClick2 = this.handleClick2.bind(this);\n    this.handleClick3 = this.handleClick3.bind(this); //this.handleClick4 = this.handleClick4.bind(this);\n    //this.createCategories = this.createCategories.bind(this); \n\n    this.sendToBackEnd = this.sendToBackEnd.bind(this);\n  }\n\n  async sendToBackEnd(categorietab) {\n    //let childId = localStorage.getItem(\"childId\");\n    //let userId = localStorage.getItem(\"sessionId\"); \n    //let gameSessionId = localStorage.getItem(\"gameSessionId\");\n    //let mandatId = localStorage.getItem(\"mandatId); \n    let mandatId = 2;\n    let childId = 1;\n    let gameSessionId = 10;\n    let userId = 2;\n    let gameSession = await this.api.getGameSession(childId); //let cmpt = this.state.categories[0].id; \n\n    let cmpt = 20;\n\n    for (let i = 1; i <= this.state.categoryPriority.length; i++) {\n      this.api.updateCategory(cmpt, gameSessionId, this.state.categoryPriority[i], i);\n      cmpt++;\n    }\n\n    this.api.setStep(gameSessionId, gameSession[0].start_date, gameSession[0].guardian_comment, gameSession[0].prof_comment, this.state.stepOrder1, this.state.stepOrder2, this.state.stepOrder3, gameSession[0].finished_state, gameSession[0].version, childId, userId, mandatId);\n  }\n\n  handleClick3(e) {\n    this.sendToBackEnd(this.state.categoryPriority);\n  }\n\n  handleClick(e) {\n    // 1 Love - Help - Happy\n    // 2 Love - Happy - Help\n    // 3 Help - Love - Happy\n    // 4 Help - Happy - Help\n    // 5 Happy - Love - Help\n    // 6 Happy - Help - Love\n    let stepOrder = e.target.name;\n    console.log(stepOrder);\n    let tab;\n\n    if (stepOrder === \"1\") {\n      document.getElementsByName(\"1\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 1;\n      this.state.stepOrder2 = 2;\n      this.state.stepOrder3 = 3;\n      tab = [\"2\", \"3\", \"4\", \"5\", \"6\"];\n    }\n\n    if (stepOrder === \"2\") {\n      document.getElementsByName(\"2\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 1;\n      this.state.stepOrder2 = 3;\n      this.state.stepOrder3 = 2;\n      tab = [\"1\", \"3\", \"4\", \"5\", \"6\"];\n    }\n\n    if (stepOrder === \"3\") {\n      document.getElementsByName(\"3\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 2;\n      this.state.stepOrder2 = 1;\n      this.state.stepOrder3 = 3;\n      tab = [\"1\", \"2\", \"4\", \"5\", \"6\"];\n    }\n\n    if (stepOrder === \"4\") {\n      document.getElementsByName(\"4\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 2;\n      this.state.stepOrder2 = 3;\n      this.state.stepOrder3 = 1;\n      tab = [\"1\", \"2\", \"3\", \"5\", \"6\"];\n    }\n\n    if (stepOrder === \"5\") {\n      document.getElementsByName(\"5\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 3;\n      this.state.stepOrder2 = 1;\n      this.state.stepOrder3 = 2;\n      tab = [\"1\", \"2\", \"3\", \"4\", \"6\"];\n    }\n\n    if (stepOrder === \"6\") {\n      document.getElementsByName(\"6\")[0].style.borderColor = 'red';\n      this.state.stepOrder1 = 3;\n      this.state.stepOrder2 = 2;\n      this.state.stepOrder3 = 1;\n      tab = [\"1\", \"2\", \"3\", \"4\", \"5\"];\n    }\n\n    tab.forEach(i => document.getElementsByName(i)[0].style.borderColor = '#7dbdfd');\n  }\n  /*createPriorCategories(){\n      let categTab = [];\n      for(let i= 0; i<this.state.categories.length;i++){\n          \n          categTab.push(<td class=\"tr2\">{this.state.categories[i].name}</td>); \n      }\n      return categTab; \n  }\n  createPriorCategories2(){\n    let categTab = [];\n    for(let i= 0; i<this.state.categories.length;i++){\n         categTab.push(<td class=\"tr2\">{i}</td>); \n    }\n    return categTab; \n  }*/\n\n\n  componentDidMount() {\n    this.loadCategory();\n  }\n\n  async loadCategory() {\n    let id = localStorage.getItem(\"gameSessionId\");\n    this.state.categories = await this.api.loadCategories(1); // set Id in comment\n\n    this.setState({\n      divCategories: this.state.categories.map((categ, i) => React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        name: categ.name,\n        className: \"button_settings6\",\n        onClick: this.handleClick2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, categ.name), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })))\n    });\n    console.log(this.state.divCategories);\n  }\n\n  handleClick2(e) {\n    let prior = e.target.name;\n\n    if (prior === \"Déplacements\") {\n      if (this.state.cnt1 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 5;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Déplacement\";\n        this.state.cnt1Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt1Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt1Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt1Bis;\n      }\n\n      this.state.cnt1++;\n    }\n\n    if (prior === \"Habitation\") {\n      if (this.state.cnt2 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 4;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Habitation\";\n        this.state.cnt2Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt2Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt2Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt2Bis;\n      }\n\n      this.state.cnt2++;\n    }\n\n    if (prior === \"Loisirs\") {\n      if (this.state.cnt3 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 7;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Loisirs \";\n        this.state.cnt3Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt3Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt3Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt3Bis;\n      }\n\n      this.state.cnt3++;\n    }\n\n    if (prior === \"Nutrition\") {\n      if (this.state.cnt4 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 1;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Nutrition \";\n        this.state.cnt4Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt4Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt4Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt4Bis;\n      }\n\n      this.state.cnt4++;\n    }\n\n    if (prior === \"Soins Personnels\") {\n      if (this.state.cnt5 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 2;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Soins \";\n        this.state.cnt5Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt5Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt5Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt5Bis;\n      }\n\n      this.state.cnt5++;\n    }\n\n    if (prior === \"Responsabiltés\") {\n      if (this.state.cnt6 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 6;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Responsabilité \";\n        this.state.cnt6Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt6Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt6Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt6Bis;\n      }\n\n      this.state.cnt6++;\n    }\n\n    if (prior === \"Communication\") {\n      if (this.state.cnt7 % 2 === 0) {\n        this.state.categoryPriority[this.state.cntPrior] = 3;\n        document.getElementById(\"\" + this.state.cntPrior).innerHTML = \"Communication \";\n        this.state.cnt7Bis = this.state.cntPrior;\n        this.state.cntPrior++;\n      } else {\n        this.state.categoryPriority[this.state.cnt7Bis] = 0;\n        document.getElementById(\"\" + this.state.cnt7Bis).innerHTML = \"/\";\n        this.state.cntPrior = this.state.cnt7Bis;\n      }\n\n      this.state.cnt7++;\n    }\n\n    for (let i = 0; i < this.state.categoryPriority.length; i++) {\n      if (this.state.categoryPriority[i] === 0) {\n        this.state.cntPrior = i;\n        return;\n      }\n    }\n\n    localStorage.setItem(\"TabPriorCategory\", this.state.categoryPriority);\n    console.log(this.state.categoryPriority);\n  }\n\n  render() {\n    // this.loadCategory(); \n    return React.createElement(\"nav\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Param\\xE8tres\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Choisissez l'ordre des \\xE9tapes que vous voulez\"), React.createElement(\"table\", {\n      className: \"table_settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"1\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Aime - Aide - Content\")), React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"2\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Aime - Content - Aide\"))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"3\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Aide - Aime - Content\")), React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"4\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Aide - Content - Aime\"))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"5\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Content - Aide - Aime\")), React.createElement(\"td\", {\n      className: \"cel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"6\",\n      onClick: this.handleClick,\n      className: \"button_settings4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \"Content - Aime - Aide\")))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, \"Choisissez la priorit\\xE9 des cat\\xE9gories \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, this.state.divCategories)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table_settings2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"4\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"5\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"6\"), React.createElement(\"td\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"7\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      class: \"tr2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }), React.createElement(\"td\", {\n      class: \"tr2\",\n      id: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      class: \"table_settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"cel2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/commentary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"Continue\",\n      className: \"button_settings2\",\n      onClick: this.handleClick4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"Continuer derni\\xE8re partie\"))), React.createElement(\"td\", {\n      className: \"cel2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: '/commentary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"NewGame\",\n      className: \"button_settings2\",\n      onClick: this.handleClick3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Valider\"))))))));\n  }\n\n}\n\nexport default SettingsPage;","map":{"version":3,"sources":["/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/Before_game/Settings/SettingsPage.jsx"],"names":["React","Component","Link","SettingsAPI","SettingsPage","constructor","state","currentCategory","stepOrder1","stepOrder2","stepOrder3","categoryPriority","divCategories","categories","cntPrior","cnt1","cnt1Bis","cnt2","cnt2Bis","cnt3","cnt3Bis","cnt4","cnt4Bis","cnt5","cnt5Bis","cnt6","cnt6Bis","cnt7","cnt7Bis","api","handleClick","bind","handleClick2","handleClick3","sendToBackEnd","categorietab","mandatId","childId","gameSessionId","userId","gameSession","getGameSession","cmpt","i","length","updateCategory","setStep","start_date","guardian_comment","prof_comment","finished_state","version","e","stepOrder","target","name","console","log","tab","document","getElementsByName","style","borderColor","forEach","componentDidMount","loadCategory","id","localStorage","getItem","loadCategories","setState","map","categ","prior","getElementById","innerHTML","setItem","render","handleClick4"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport SettingsAPI from '../../../API/SettingsAPI.js'\nimport '../../../Assets/Css/SettingsPage.css';\n\nclass SettingsPage extends Component {\n  \n  constructor(){\n        super();\n        this.state = {\n            currentCategory : \"\",\n            stepOrder1 : 0,\n            stepOrder2 : 0,\n            stepOrder3 : 0,  \n            categoryPriority : [],\n            divCategories : [], \n            categories : [], \n            cntPrior: 0,\n            cnt1 : 0,\n            cnt1Bis : 0, \n            cnt2 : 0,\n            cnt2Bis : 0, \n            cnt3 : 0,\n            cnt3Bis : 0, \n            cnt4 : 0,\n            cnt4Bis : 0, \n            cnt5 : 0,\n            cnt5Bis : 0,  \n            cnt6 : 0, \n            cnt6Bis : 0, \n            cnt7 : 0,\n            cnt7Bis : 0 \n            \n        }\n        this.api = new SettingsAPI();\n        this.handleClick = this.handleClick.bind(this);\n        this.handleClick2 = this.handleClick2.bind(this);\n        this.handleClick3 = this.handleClick3.bind(this);\n        //this.handleClick4 = this.handleClick4.bind(this);\n        //this.createCategories = this.createCategories.bind(this); \n        this.sendToBackEnd = this.sendToBackEnd.bind(this);\n        \n  }\n  async sendToBackEnd(categorietab){\n    //let childId = localStorage.getItem(\"childId\");\n    //let userId = localStorage.getItem(\"sessionId\"); \n    //let gameSessionId = localStorage.getItem(\"gameSessionId\");\n    //let mandatId = localStorage.getItem(\"mandatId); \n    let mandatId = 2; \n    let childId = 1; \n    let gameSessionId = 10; \n    let userId = 2; \n    let gameSession = await this.api.getGameSession(childId);\n    //let cmpt = this.state.categories[0].id; \n    let cmpt = 20; \n    for(let i = 1; i <=this.state.categoryPriority.length; i++){\n        this.api.updateCategory(cmpt,gameSessionId, this.state.categoryPriority[i], i);\n        cmpt ++;  \n    }\n    this.api.setStep(gameSessionId,gameSession[0].start_date,gameSession[0].guardian_comment,gameSession[0].prof_comment,this.state.stepOrder1,this.state.stepOrder2,this.state.stepOrder3,gameSession[0].finished_state,gameSession[0].version,childId,userId,mandatId); \n    \n\n}\n  handleClick3(e){\n    this.sendToBackEnd(this.state.categoryPriority);\n  }\n  \n  handleClick(e){\n    // 1 Love - Help - Happy\n    // 2 Love - Happy - Help\n    // 3 Help - Love - Happy\n    // 4 Help - Happy - Help\n    // 5 Happy - Love - Help\n    // 6 Happy - Help - Love\n     let stepOrder = e.target.name\n     console.log(stepOrder); \n     let tab; \n     if(stepOrder===\"1\"){\n        document.getElementsByName(\"1\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 1; \n        this.state.stepOrder2= 2;\n        this.state.stepOrder3= 3;\n        tab = [\"2\",\"3\",\"4\",\"5\",\"6\"]; \n     }\n     if(stepOrder===\"2\"){\n        document.getElementsByName(\"2\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 1;\n        this.state.stepOrder2= 3;\n        this.state.stepOrder3= 2;\n        tab = [\"1\",\"3\",\"4\",\"5\",\"6\"]; \n     }\n     if(stepOrder===\"3\"){\n        document.getElementsByName(\"3\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 2;\n        this.state.stepOrder2= 1;\n        this.state.stepOrder3= 3;\n        tab = [\"1\",\"2\",\"4\",\"5\",\"6\"]; \n     }\n     if(stepOrder===\"4\"){\n        document.getElementsByName(\"4\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 2;\n        this.state.stepOrder2= 3;\n        this.state.stepOrder3= 1;\n        tab = [\"1\",\"2\",\"3\",\"5\",\"6\"]; \n     }\n     if(stepOrder===\"5\"){\n        document.getElementsByName(\"5\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 3;\n        this.state.stepOrder2= 1;\n        this.state.stepOrder3= 2;\n        tab = [\"1\",\"2\",\"3\",\"4\",\"6\"]; \n     }\n     if(stepOrder===\"6\"){\n        document.getElementsByName(\"6\")[0].style.borderColor = 'red';\n        this.state.stepOrder1= 3;\n        this.state.stepOrder2= 2; \n        this.state.stepOrder3= 1;\n        tab = [\"1\",\"2\",\"3\",\"4\",\"5\"]; \n     }\n     tab.forEach(i => document.getElementsByName(i)[0].style.borderColor = '#7dbdfd'); \n  }\n  /*createPriorCategories(){\n      let categTab = [];\n      for(let i= 0; i<this.state.categories.length;i++){\n          \n          categTab.push(<td class=\"tr2\">{this.state.categories[i].name}</td>); \n      }\n      return categTab; \n  }\n  createPriorCategories2(){\n    let categTab = [];\n    for(let i= 0; i<this.state.categories.length;i++){\n\n        categTab.push(<td class=\"tr2\">{i}</td>); \n    }\n    return categTab; \n  }*/\n\n  componentDidMount(){\n      this.loadCategory(); \n  }\n  async loadCategory(){\n      let id = localStorage.getItem(\"gameSessionId\");\n      this.state.categories = await this.api.loadCategories(1); // set Id in comment\n    \n    this.setState({\n        divCategories: this.state.categories.map((categ, i) => (\n            <div><button name={categ.name} className=\"button_settings6\" onClick={this.handleClick2}>{categ.name}</button><br/></div>\n        ))\n      });\n      \n      console.log(this.state.divCategories); \n  }\n\n\n  handleClick2(e){\n     \n    let prior = e.target.name\n\n    \n    if(prior === \"Déplacements\"){\n        \n        if(this.state.cnt1 %2 ===0){\n            \n            this.state.categoryPriority[this.state.cntPrior]=5;\n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Déplacement\"; \n            this.state.cnt1Bis = this.state.cntPrior; \n            this.state.cntPrior++;\n            \n        }else {\n            this.state.categoryPriority[this.state.cnt1Bis]=0;\n            document.getElementById(\"\"+this.state.cnt1Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt1Bis; \n        }\n        this.state.cnt1++; \n    }\n    \n    if(prior === \"Habitation\"){\n        if(this.state.cnt2 %2 ===0){\n            this.state.categoryPriority[this.state.cntPrior]=4; \n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Habitation\";\n            this.state.cnt2Bis = this.state.cntPrior;\n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt2Bis]=0;\n            document.getElementById(\"\"+this.state.cnt2Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt2Bis;  \n        }\n        this.state.cnt2++; \n    }\n    \n    if(prior===\"Loisirs\"){\n        if(this.state.cnt3 %2 ===0){\n            this.state.categoryPriority[this.state.cntPrior]=7;\n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Loisirs \";\n            this.state.cnt3Bis = this.state.cntPrior;\n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt3Bis]=0;\n            document.getElementById(\"\"+this.state.cnt3Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt3Bis; \n        }\n        this.state.cnt3++; \n    }\n\n    if(prior===\"Nutrition\"){\n        if(this.state.cnt4 %2 ===0){\n            this.state.categoryPriority[this.state.cntPrior]=1; \n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Nutrition \";\n            this.state.cnt4Bis = this.state.cntPrior;\n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt4Bis]=0; \n            document.getElementById(\"\"+this.state.cnt4Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt4Bis; \n        }\n        this.state.cnt4++; \n    }\n    \n    if(prior===\"Soins Personnels\"){\n        if(this.state.cnt5 %2 ===0){\n\n            this.state.categoryPriority[this.state.cntPrior]=2; \n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Soins \";\n            this.state.cnt5Bis = this.state.cntPrior;\n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt5Bis]=0; \n            document.getElementById(\"\"+this.state.cnt5Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt5Bis; \n        }\n        this.state.cnt5++; \n    }\n    \n    if(prior===\"Responsabiltés\"){\n        if(this.state.cnt6 %2 ===0){\n            this.state.categoryPriority[this.state.cntPrior]=6; \n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Responsabilité \";\n            this.state.cnt6Bis = this.state.cntPrior; \n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt6Bis]=0; \n            document.getElementById(\"\"+this.state.cnt6Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt6Bis; \n        }\n        this.state.cnt6++; \n    }\n    \n    if(prior===\"Communication\"){\n        if(this.state.cnt7 %2 ===0){\n            this.state.categoryPriority[this.state.cntPrior]=3; \n            document.getElementById(\"\"+this.state.cntPrior).innerHTML= \"Communication \";\n            this.state.cnt7Bis = this.state.cntPrior;\n            this.state.cntPrior++;\n        }else {\n            this.state.categoryPriority[this.state.cnt7Bis]=0; \n            document.getElementById(\"\"+this.state.cnt7Bis).innerHTML= \"/\";\n            this.state.cntPrior = this.state.cnt7Bis; \n        }\n        this.state.cnt7++; \n    }\n    for(let i = 0 ; i<this.state.categoryPriority.length; i++){\n        if(this.state.categoryPriority[i]===0){\n            this.state.cntPrior = i; \n            return; \n        }\n    }\n    \n    localStorage.setItem(\"TabPriorCategory\", this.state.categoryPriority); \n    console.log(this.state.categoryPriority); \n}\n  \n  render() {\n   // this.loadCategory(); \n    \n    return (\n        <nav class=\"container\">\n            <h4>Paramètres</h4>\n            <div>\n                <br/>\n                <h5>Choisissez l'ordre des étapes que vous voulez</h5>\n                <table className=\"table_settings\">\n                    <thead>\n                        <tr>\n                            <td className=\"cel\"><button name=\"1\" onClick={this.handleClick} className=\"button_settings4\">Aime - Aide - Content</button></td>\n                            <td className=\"cel\"><button name=\"2\" onClick={this.handleClick} className=\"button_settings4\">Aime - Content - Aide</button></td>\n                        </tr>\n                        <tr>\n                            <td className=\"cel\"><button name=\"3\" onClick={this.handleClick} className=\"button_settings4\">Aide - Aime - Content</button></td>\n                            <td className=\"cel\"><button name=\"4\" onClick={this.handleClick} className=\"button_settings4\">Aide - Content - Aime</button></td>\n                        </tr>\n                        <tr>\n                            <td className=\"cel\"><button name=\"5\" onClick={this.handleClick} className=\"button_settings4\">Content - Aide - Aime</button></td>\n                            <td className=\"cel\"><button name=\"6\" onClick={this.handleClick} className=\"button_settings4\">Content - Aime - Aide</button></td>\n                        </tr>\n                    </thead>\n                </table>\n            </div>\n            <br/>\n            \n            <div>\n                <h5>Choisissez la priorité des catégories </h5>\n                <br/>\n                <div>\n                    {this.state.divCategories}\n                </div>\n            </div>\n            \n            <br/>\n            <div>\n                <table class=\"table_settings2\">\n                    <thead>\n                        <tr class=\"tr2\">\n                            <td class=\"tr2\">1</td><td class=\"tr2\">2</td><td class=\"tr2\">3</td><td class=\"tr2\">4</td><td class=\"tr2\">5</td><td class=\"tr2\">6</td><td class=\"tr2\">7</td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr class=\"tr2\">\n                            <td class=\"tr2\" id=\"0\"></td><td class=\"tr2\" id=\"1\"></td><td class=\"tr2\" id=\"2\"></td><td class=\"tr2\" id=\"3\"></td><td class=\"tr2\" id=\"4\"></td><td class=\"tr2\" id=\"5\"></td><td class=\"tr2\" id=\"6\"></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div>\n                <table class=\"table_settings\">\n                    <thead>\n                        <tr>\n                           <td className=\"cel2\"><Link to={'/commentary'}><button name=\"Continue\" className=\"button_settings2\" onClick={this.handleClick4}>Continuer dernière partie</button></Link></td>\n                           <td className=\"cel2\"><Link to={'/commentary'}><button name=\"NewGame\" className=\"button_settings2\" onClick={this.handleClick3}>Valider</button></Link></td>\n                        </tr>\n                    </thead>\n                </table>\n            </div>\n            \n        </nav>\n    );\n  }\n}\n\nexport default SettingsPage;"]},"metadata":{},"sourceType":"module"}