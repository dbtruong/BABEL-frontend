{"ast":null,"code":"var _jsxFileName = \"/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/Before_game/Mandate/MandatePage.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport MandateAPI from '../../../API/MandateAPI.js';\nimport '../../../Assets/Css/MandatePage.css';\n\nclass MandatePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      instigator: 0,\n      childId: 0,\n      comments: \"\"\n    };\n    this.api = new MandateAPI();\n    this.handleClick = this.handleClick.bind(this);\n    this.state.childId = localStorage.getItem(\"idChild\");\n  }\n\n  async handleClick(e) {\n    let childId = localStorage.getItem(\"idChild\");\n    let userId = localStorage.getItem(\"sessionId\");\n    let date = null;\n    this.state.comments = document.getElementById('comments').value;\n    let mandatId = await this.api.sendMandate(childId, this.state.instigator, this.state.comments, date);\n    this.api.createGame(1, 1, 1);\n    let gameSessionId = this.api.createGame(childId, userId, mandatId);\n    localStorage.setItem(\"mandatId\", mandatId);\n    localStorage.setItem(\"gameSessionId\", gameSessionId);\n  }\n\n  render() {\n    return React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, \"Mandat\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      class: \"childid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Id de l'enfant : \", this.state.childId), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Instigateur :\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"instigator\",\n      placeholder: \"Entrez votre nom\",\n      value: this.state.login,\n      onChange: e => this.setState({\n        instigator: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Demande :\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      id: \"comments\",\n      rows: \"5\",\n      cols: \"40\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: '/waiting',\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button_mandat\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Envoyer Mandat\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Link, {\n      to: '/commentary',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      name: \"Continue\",\n      onClick: this.handleClick4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Continuer derni\\xE8re partie\"))));\n  }\n\n}\n\nexport default MandatePage;","map":{"version":3,"sources":["/home/bao/Documents/IPLBAC3/PFE/BABEL-frontend/src/Components/Before_game/Mandate/MandatePage.jsx"],"names":["React","Component","Link","MandateAPI","MandatePage","constructor","state","instigator","childId","comments","api","handleClick","bind","localStorage","getItem","e","userId","date","document","getElementById","value","mandatId","sendMandate","createGame","gameSessionId","setItem","render","login","setState","target","handleClick4"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport MandateAPI from '../../../API/MandateAPI.js'\nimport '../../../Assets/Css/MandatePage.css';\n\nclass MandatePage extends Component {\n\n    constructor(){\n        super();\n        this.state = {\n            instigator : 0,\n            childId : 0,\n            comments : \"\"\n\n        }\n        this.api = new MandateAPI();\n        this.handleClick = this.handleClick.bind(this);\n        this.state.childId = localStorage.getItem(\"idChild\"); \n       \n    }\n\n    async handleClick(e){\n        let childId = localStorage.getItem(\"idChild\");\n        let userId = localStorage.getItem(\"sessionId\");  \n        let date = null; \n        \n        this.state.comments = document.getElementById('comments').value; \n        let mandatId = await this.api.sendMandate(childId, this.state.instigator,this.state.comments,date);\n        this.api.createGame(1,1,1); \n        let gameSessionId = this.api.createGame(childId,userId,mandatId)\n        localStorage.setItem(\"mandatId\",mandatId); \n        localStorage.setItem(\"gameSessionId\",gameSessionId); \n    }\n\n  render() {\n    return (\n        <nav>\n            <div class=\"container\">\n                <h3>Mandat</h3>\n                <br/>\n                <h5 class=\"childid\">Id de l'enfant : {this.state.childId}</h5>\n                <br/>\n                <label>Instigateur :</label><br/>\n                <input \n                    type=\"text\"\n                    name=\"instigator\"\n                    placeholder=\"Entrez votre nom\"\n                    value = {this.state.login}\n                    onChange={e => this.setState({instigator: e.target.value})}>\n                </input><br/>\n                <br/>\n                <label>Demande :</label><br/>\n                <textarea id=\"comments\" rows=\"5\" cols=\"40\">\n                </textarea><br/><br/>\n                <Link to={'/waiting'} className=\"nav-link\"><button \n                    className=\"button_mandat\"\n                    onClick={this.handleClick}>\n                    Envoyer Mandat\n                </button></Link><br/><br/>\n                <Link to={'/commentary'}><button name=\"Continue\" onClick={this.handleClick4}>Continuer dernière partie</button></Link>\n           </div>\n        </nav>\n    );\n  }\n}\n\nexport default MandatePage;"]},"metadata":{},"sourceType":"module"}